<div class="dashboard-container">
  <!-- Sidebar -->
  <aside class="sidebar"
         [class.sidebar-closed]="!sidebarOpen">
    <div class="sidebar-header">
      <div class="logo">
        <span class="logo-icon">🎯</span>
        <span class="logo-text"
              *ngIf="sidebarOpen">SatisfApp</span>
      </div>
      <button class="toggle-btn"
              (click)="toggleSidebar()">
        <span>{{ sidebarOpen ? '◀' : '▶' }}</span>
      </button>
    </div>

    <div class="user-info"
         *ngIf="sidebarOpen">
      <div class="user-avatar">👤</div>
      <div class="user-details">
        <span class="user-name">{{ adminUser }}</span>
        <span class="user-role">Administrador</span>
      </div>
    </div>

    <nav class="sidebar-nav">
      <ul class="nav-list">
        <li *ngFor="let item of menuItems"
            class="nav-item"
            [class.active]="item.active"
            (click)="setActiveMenuItem(item)">
          <span class="nav-icon">{{ item.icon }}</span>
          <span class="nav-label"
                *ngIf="sidebarOpen">{{ item.label }}</span>
        </li>
      </ul>
    </nav>

    <div class="sidebar-footer">
      <button class="logout-btn"
              (click)="logout()">
        <span class="logout-icon">🚪</span>
        <span class="logout-text"
              *ngIf="sidebarOpen">Sair</span>
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content"
        [class.main-content-expanded]="!sidebarOpen">
    <header class="content-header">
      <h1>Sistema de Pesquisa de Satisfação</h1>
      <div class="header-actions">
        <span class="welcome-text">Bem-vindo, {{ adminUser }}!</span>
      </div>
    </header>

    <div class="content-body">
      <router-outlet></router-outlet>

      <!-- Conteúdo padrão do dashboard - só mostra se não houver rota filha -->
      <div class="dashboard-home"
           *ngIf="!hasActiveChildRoute()">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">📝</div>
            <div class="stat-info">
              <h3>Formulários</h3>
              <p class="stat-number">{{ stats.totalForms }}</p>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon">📊</div>
            <div class="stat-info">
              <h3>Respostas</h3>
              <p class="stat-number">{{ stats.totalResponses }}</p>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon">👥</div>
            <div class="stat-info">
              <h3>Participantes</h3>
              <p class="stat-number">{{ stats.totalParticipants }}</p>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon">⭐</div>
            <div class="stat-info">
              <h3>Avaliação Média</h3>
              <p class="stat-number">{{ stats.averageRating }}</p>
            </div>
          </div>
        </div>

        <div class="welcome-section">
          <h2>Bem-vindo ao Sistema de Pesquisa de Satisfação!</h2>
          <p>Comece criando seu primeiro formulário de pesquisa ou explore as funcionalidades disponíveis no menu lateral.</p>
          <button class="cta-button"
                  (click)="setActiveMenuItem(menuItems[1])">
            Criar Primeiro Formulário
          </button>
        </div>
      </div>
    </div>
  </main>
</div>
